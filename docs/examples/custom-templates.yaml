---
name: Renovate (Custom Templates)

on:
  push:
    branches:
      - main
      - 'renovate/**'
  pull_request:
  workflow_dispatch:
  schedule:
    - cron: '0 */6 * * *'

jobs:
  renovate:
    name: Renovate
    runs-on: ubuntu-latest
    steps:
      - uses: bfra-me/renovate-action@v7
        with:
          dry-run: ${{ github.event_name == 'pull_request' }}
          renovate-app-id: ${{ secrets.APPLICATION_ID }}
          renovate-app-private-key: ${{ secrets.APPLICATION_PRIVATE_KEY }}
          # Custom PR header with CI links
          pr-header: |
            ðŸš€ **Automated Dependency Update for {{github.repository}}**

            [![CI Status](https://github.com/{{github.repository}}/actions/runs/{{github.run_id}}/badge.svg)](https://github.com/{{github.repository}}/actions/runs/{{github.run_id}})

            > This PR was automatically generated by our custom Renovate setup.
          # Custom PR footer with organization-specific links
          pr-footer: |
            ---

            ### ðŸ“š Resources

            - [Internal Wiki](https://wiki.example.com/renovate)
            - [Dependency Policy](https://docs.example.com/dependencies)
            - [Support Channel](https://slack.example.com/renovate)

            ðŸ¤– **Generated by Custom Renovate Configuration**
          # Custom dependency dashboard header
          dependency-dashboard-header: |
            ðŸ“Š **Custom Dependency Dashboard for {{github.repository}}**

            Welcome to the dependency management dashboard. This issue tracks all pending updates and provides quick actions for managing dependencies.

            ## Quick Links
            - [Dependency Guidelines](https://docs.example.com/dependencies)
            - [Security Policy](https://security.example.com/policy)
          # Custom dependency dashboard footer
          dependency-dashboard-footer: |
            ---

            ## Support & Documentation

            - **Questions?** Ask in [#renovate-support](https://slack.example.com/renovate)
            - **Issues?** Create a ticket in [ServiceDesk](https://servicedesk.example.com)
            - **Policy Updates?** See [Dependency Guidelines](https://docs.example.com/dependencies)

            ðŸ”§ **Managed by Custom Renovate Setup** | Last updated: {{ now }}
          # Enable config printing for debugging
          print-config: true
